<template>
  <au-input-form 
    title.bind="title" 
    cancel.bind="cancel" 
    edit.bind="edit" 
    save.bind="save" 
    delete.bind="delete">

    <au-textbox 
      label="Machine Name" 
      value.bind="data.name" 
      error.bind="error.name" 
      read-only.bind="(readOnly || isEdit)">
    </au-textbox>

    <au-autocomplete 
      value.bind="data.unit" 
      error.bind="error.unit"
      label="Unit" 
      change.delegate="unitChanged($event)" 
      loader.bind="unitLoader"
      placeholder="search unit" 
      key="code" 
      template="modules/master/machine/template/unit"
      read-only.bind="(readOnly || isEdit)">
    </au-autocomplete>

    <au-autocomplete 
      value.bind="data.step" 
      error.bind="error.step"
      label="Step" 
      change.delegate="stepChanged($event)" 
      loader.bind="stepLoader"
      placeholder="search step" 
      key="process"
      text="process"
      read-only.bind="(readOnly || isEdit)">
    </au-autocomplete>

    <au-autocomplete 
      value.bind="data.machineType" 
      error.bind="error.machineType"
      label="Machine Type" 
      change.delegate="machineTypeChanged($event)" 
      loader.bind="machineTypeLoader"
      placeholder="search machine type" 
      key="code"
      text="name"
      read-only.bind="(readOnly || isEdit)">
    </au-autocomplete>

    <au-textbox 
      label="Process" 
      value.bind="data.process" 
      read-only.bind="(readOnly || isEdit)">
    </au-textbox>

    <au-textbox 
      label="Manufacture" 
      value.bind="data.manufacture" 
      read-only.bind="(readOnly || isEdit)">
    </au-textbox>

    <au-numeric 
      label="Year" 
      value.bind="data.year" 
      format="0"
      read-only.bind="(readOnly || isEdit)">
    </au-numeric>

    <au-textbox 
      label="Condition" 
      value.bind="data.condition" 
      read-only.bind="(readOnly || isEdit)">
    </au-textbox>

    <au-collection 
      items.bind="data.machineEvents" 
      columns.bind="machineEventColumns" 
      add.bind="addMachineEvent" 
      remove.bind="removeMachineEvent"
      title="Machine Events" 
      read-only.bind="readOnly" 
      item-template="modules/master/machine/template/machine-event-item">
    </au-collection>

  </au-input-form>
</template>