<template>
    <form class="form-horizontal">
        
        <require from="customs/elements/horsey"></require>
        <div class="form-group ${error.RefPONo?'has-error':''}">
            <label for="RefPONo" class="col-sm-3 control-label">Nomor Referensi PO</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" name="RefPONo" value.bind="data.RefPONo" />
                <span class="help-block">${error.RefPONo}</span>
            </div>
        </div>
        
        <div class="form-group ${error.PRNo?'has-error':''} ">
            <label for="PRNo" class="col-sm-3 control-label">Nomor PR</label>
            <div class="col-sm-3">
                <input readonly.bind="data.isSplit" type="text" class="form-control" name="PRNo" value.bind="data.PRNo" />
                <span class="help-block">${error.PRNo}</span>
            </div>
        </div>
        
        <div class="form-group ${error.RONo?'has-error':''} ">
            <label for="RONo" class="col-sm-3 control-label">Nomor RO</label>
            <div class="col-sm-3">
                <input readonly.bind="data.isSplit" type="text" class="form-control" name="RONo" value.bind="data.RONo" />
                <span class="help-block">${error.RONo}</span>
            </div>
        </div>
        
        <div class="form-group ${error.article?'has-error':''} ">
            <label for="article" class="col-sm-3 control-label">Artikel</label>
            <div class="col-sm-3">
                <input readonly.bind="data.isSplit" type="text" class="form-control" name="article" value.bind="data.article" />
                <span class="help-block">${error.article}</span>
            </div>
        </div>
   
        <div class="form-group ${error.buyerId?'has-error':''}">
            <label for="buyerId" class="col-sm-3 control-label">Buyer</label>
            <div class="col-sm-5">
                <horsey if.bind="!data.isSplit" src.bind="uriBuyer" selection.bind="data.buyer" options.bind="{label:'labelBuyer', value:'_id'}" map.bind="mapBuyer"></horsey>
                <input readonly if.bind="data.isSplit" class="form-control" value.bind="data.buyer.name"></input>                
                <span class="help-block">${error.buyerId}</span>
            </div>
        </div>

        <require from="utils/date-format"></require>
        <div class="form-group ${error.shipmentDate?'has-error':''}">
            <label for="shipmentDate" class="col-sm-3 control-label">Tanggal Kirim</label>
            <div class="col-sm-3">
                <!--<input type="date" class="form-control" name="shipmentDate" value.bind="data.shipmentDate | dateFormat : 'YYYY-MM-DD'"></input>-->
                <input readonly.bind="data.isSplit" type="date" class="form-control" name="shipmentDate" value.bind="data.shipmentDate"></input>
                <span class="help-block">${error.shipmentDate}</span>
            </div>       
        </div>
        
        <require from="../po-item"></require> 
        <div class="row">
            <div class="col-md-2">   
                <span>Nama Barang</span>
            </div>
            <div class="col-md-2">   
                <span>Keterangan</span>
            </div>
            <div class="col-md-1">
                <span>Kwantum</span>
            </div>
            <div class="col-md-1">
                <span>Satuan</span>
            </div>
            <div class="col-md-1" style="text-align:center">
                <span>Kwantum Kesepakatan</span>
            </div>
            <div class="col-md-1" style="text-align:center">
                <span align>Satuan Kesepakatan</span>
            </div>
            <div class="col-md-2">
                <span>Harga Barang</span>
            </div>
            <div class="col-md-1">
                <button class="${data.isSplit ? 'hide': ''} btn btn-success" click.delegate="addItem()">Tambah Barang</button> 
            </div>
        </div>     
        <hr />
        <po-item repeat.for="item of data.items" data.bind="item" uri.bind="uri" remove.delegate="removeItem(item)"></po-item>

    </form>
</template>